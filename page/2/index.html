<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Hexo</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hexo</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/13/CSAPP-%E7%AC%AC%E4%BA%8C%E7%AB%A0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/13/CSAPP-%E7%AC%AC%E4%BA%8C%E7%AB%A0/" class="post-title-link" itemprop="url">CSAPP 第二章</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-12-13 21:08:46" itemprop="dateCreated datePublished" datetime="2021-12-13T21:08:46+08:00">2021-12-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-12-14 22:10:01" itemprop="dateModified" datetime="2021-12-14T22:10:01+08:00">2021-12-14</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="信息储存"><a href="#信息储存" class="headerlink" title="信息储存"></a>信息储存</h2><h3 id="进制"><a href="#进制" class="headerlink" title="进制"></a>进制</h3><p>日常生活中，我们习惯使用十进制，但是计算机领域使用最多的当属十六进制，并不是说计算机能读懂十六进制，计算机只能都懂二进制，但是十六进制和二进制的转换很方便，所以人们通常把计算机中的二进制数据转换为十六进制</p>
<h3 id="字和字节"><a href="#字和字节" class="headerlink" title="字和字节"></a>字和字节</h3><p>计算机能处理的最小数据单位就是字节，字一般是二字节或者四字节，这个在不同的机器上不同，每台计算机都有自己的字长，实际上字长就是该机器指针的长度，也就是地址的长度，字长越大的机器，寻址能力也就越强</p>
<h3 id="字节顺序"><a href="#字节顺序" class="headerlink" title="字节顺序"></a>字节顺序</h3><p>分为小端和大端，最近也出现了双端的字节序，但是最常见的还是小端，小端的含义就是，数据的存储按原始数据的高位存储在内存的高地址，原始数据的低位存放在内存的低位，通俗的说法是，你会发现内存中的数据是反过来存放的</p>
<p>大端和小端都有各自的优点，具体使用那一种字节序只是习惯问题</p>
<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>C语言中字符串以0结尾，定义字符串时，C的编译器会默认在字符串的结尾加上一个0，否则可能会发生意想不到的错误</p>
<p>常见的字符集有ascii和unicode两种，ascii使用16为，也就是两个字节来表示字符，而unicode使用32为，也就是四个字节来表示字符</p>
<p>ascii对英文字母有较好的支持，而unicode支持的范围更加广泛</p>
<h3 id="bool运算"><a href="#bool运算" class="headerlink" title="bool运算"></a>bool运算</h3><p>狭义的bool代数就是0和1的运算，C语言规定了按位与、按位或、取反、异或四种bool运算</p>
<p>按位与：参与运算的两位都是1结果才为1，否则为0</p>
<p>按位或：参与运算的两位都是0结果才为0，否则为1</p>
<p>取反：1取反为0，0取反为1</p>
<p>异或：参与运算的两位只有一位为1结果才为1，否则为0</p>
<p>这四种运算都有一定的特性，如可以让一个数按位与0xFF将其高位全部置0，或者让一个数按位或0xFF使其低16为全部置1</p>
<p>异或的特性包括：一个数异或自己得零，一个数异或0得自己，一个数异或另外一个数偶数次，结果还是这个数</p>
<h3 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h3><p>C语言规定了逻辑与（&amp;&amp;），逻辑或（||），和逻辑非（！）</p>
<p>在逻辑运算看来，非0的所有数都是1，1&amp;&amp;1 = 1，1&amp;&amp;0 = 0，0&amp;&amp;0 = 0</p>
<p>1||1 = 1，1||0 = 1， 0||0 = 0，！1 = 0， ！0 = 1</p>
<h3 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h3><p>C语言中有左移，逻辑右移和算数右移</p>
<p>逻辑右移在左边置0，算术右移在左边置符号位</p>
<h2 id="整数表示"><a href="#整数表示" class="headerlink" title="整数表示"></a>整数表示</h2><p>在C语言中，整数分为有符号数和无符号数，C语言的整数默认使用补码表示的，无符号数的所有位都是数值位，有符号数的最高位表示符号位，0为负数，1为整数，负数的补码是该书绝对值的补码取反再加一</p>
<p>编程时，应当尽量避免无符号的使用，由于存在隐式的转换，使用无符号数在某些时候可能导致难以察觉的错误</p>
<h2 id="整数运算"><a href="#整数运算" class="headerlink" title="整数运算"></a>整数运算</h2><p>大寄</p>
<p>我其实也是迷迷糊糊看过去的，就记住一个吧，C语言中整数的运算时会溢出的</p>
<p>还有就是整数的乘法和除法有的情况可以采用移位来进行优化</p>
<h2 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h2><p>就简单看了一下浮点数的表示，浮点数由三部分所组成：最高位是符号位，中间的exp是阶码，代表2的多少次幂，最后一部分是尾数</p>
<p>浮点数的表示形式就是（-1）**s * 尾数*2**阶码</p>
<p><img src="image-20211214220217692.png" alt="image-20211214220217692"></p>
<p>注意：浮点数不能准确地表示所有小数</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>第二章就这些，了解了整数和浮点数的表示，在内存中的存储方式以及使用的时候应该注意些什么</p>
<p>寄，牵扯到数学运算我就寄，太菜了</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/09/CS-APP-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%B8%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/09/CS-APP-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E6%BC%AB%E6%B8%B8/" class="post-title-link" itemprop="url">CS:APP 第一章 计算机系统漫游</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-12-09 20:51:16 / Modified: 22:33:54" itemprop="dateCreated datePublished" datetime="2021-12-09T20:51:16+08:00">2021-12-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>汇编学的有点过头，就抽空看了一点理论知识，相较于《逆向工程核心原理》，《CS:APP》算是一本很底层的书了，第一张看的很快，因为以前在看《程序员的自我修养》的时候就接触过一些比较底层的知识，学习汇编的过程也免不了和底层打交道</p>
<p>第一章的标题是“计算机系统漫游”，漫游一词用的很不错，简单介绍了现代操作系统的一些基础知识，但都是泛泛而谈，没有进行深入的展开，我觉得这一章可以划分为三大主题以及两个杂谈</p>
<p>三大主题：程序的执行过程、CPU的工作原理、操作系统的功能</p>
<p>两个杂谈：网络通信、并发和并行</p>
<h2 id="三大主题"><a href="#三大主题" class="headerlink" title="三大主题"></a>三大主题</h2><h3 id="程序的执行过程"><a href="#程序的执行过程" class="headerlink" title="程序的执行过程"></a>程序的执行过程</h3><p>拿一个C程序为例子：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello world!\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>相信这是大部分人入门C语言的第一个程序，但是在那个时候，你只是打出这个程序，然后点击了一下运行键，你并没有了解在你按下运行键之后发生的事</p>
<p>首先明确一点：CPU是读不懂上面的代码的，CPU能读懂的只能是机器代码，想要CPU执行你写的程序，就必须把你写的代码转换成机器代码，这个过程依赖计算机中的其他程序</p>
<p>首先，预处理器cpp会根据代码中的以#开头的语句修改源代码，包括广播宏定义和插入头文件，并生成.i文件</p>
<p>然后，编译器cc1会将.i文件翻译成汇编文件，即.s文件，汇编是一种语言，他与机器语言是一一对应的关系</p>
<p>接着，汇编器as将汇编语言翻译成机器语言，生成.o文件，.o文件中保存的已经是机器语言，但是CPU任然无法执行它，还需要对其中的外部符号进行重定位</p>
<p>最后，链接器ld将一个或多个目标文件链接起来，对其中的符号进行重定位，生成可执行文件</p>
<p>在学习汇编的过程中，经常用到as和ld两个程序，尤其对链接有了更深入的认识</p>
<p>生成的可执行文件存放在磁盘中，当我们向CPU发送执行程序的指令时，CPU就会将可执行文件加载到内存中，并不是一一对应的加载，这个过程也十分复杂，涉及到可执行文件的装载，不知道这本书后面有没有深入的讲解</p>
<p>然后CPU就一条一条地读取机器代码并执行，具体过程就是CPU地工作了</p>
<h3 id="CPU的工作原理"><a href="#CPU的工作原理" class="headerlink" title="CPU的工作原理"></a>CPU的工作原理</h3><p>CPU的核心组件包括寄存器、PC、ALU</p>
<p>寄存器可以理解为CPU的口袋，CPU会将一些数据存放在寄存器中</p>
<p>PC可以理解为CPU的眼睛，它指向CPU即将要执行的一条指令</p>
<p>ALU时CPU的大脑，负责进行数据的运算</p>
<p>CPU的工作模式可以简单地概括为<strong>读取指令——&gt;执行指令</strong></p>
<p>第一步：读取指令，为了进行这一步，CPu还会进行一些准备工作，即将指令和数据从磁盘传输到主存中，这样做没别的意思，就是为了提高指令和数据的读取速度，现代处理器的运算速度是很快的，但是如果读取数据和指令的速度跟不上，再快的处理器发挥不了全部实力，事实上，为了获得更快的读取速度，现代计算机还发展出了高速缓存，其读取速度比内存更快</p>
<p>对于整个程序，CPU是将其读取到主存或高速缓存中，而对于更小单位的指令和数据，CPU会将他们读取到寄存器中，寄存器的读取速度就更快了</p>
<p>第二部：执行指令，这个步骤的含义很广泛，因为指令的类型多种多样，大概意思就是CPU会根据指令做相应的事情，这些事情则是更加底层的操作了</p>
<h3 id="操作系统的功能"><a href="#操作系统的功能" class="headerlink" title="操作系统的功能"></a>操作系统的功能</h3><p>操作系统介于软件与硬件之间，它的作用在我看来无非两个：保护硬件、合理调度计算机的资源</p>
<h4 id="保护硬件"><a href="#保护硬件" class="headerlink" title="保护硬件"></a>保护硬件</h4><p>事实上，早期的操作系统貌似并没有这个功能，在DOS系统下，应用程序与操作系统的级别是相同的，后来保护模式的出现将应用程序的级别划分为R3，而操作系统的级别则是R0，在保护模式下，应用程序对硬件的操作必须由操作系统代劳，如果操作系统觉得应用程序不能这么做，它可以选择驳回请求</p>
<p>这样的模式就起到了保护硬件的作用，让计算机不至于那么脆弱</p>
<h4 id="合理调度计算机资源"><a href="#合理调度计算机资源" class="headerlink" title="合理调度计算机资源"></a>合理调度计算机资源</h4><p>应用程序的运行都是消耗资源的，如果没有一个调度者来合理分配资源，不同的应用程序极可能发生争抢资源的事件，这不仅会拖慢计算机的运行速度，还可能引发计算机崩溃</p>
<p>操作系统会根据一定的规则分配计算机的资源，以期达到速度最大化的目的，这又是更深的学问了，涉及操作系统如何调度的问题，放在以后再讲</p>
<h2 id="两个杂谈"><a href="#两个杂谈" class="headerlink" title="两个杂谈"></a>两个杂谈</h2><p>为什么叫杂谈，因为我觉得这两部分作者似乎只是轻点了一下，远没有三个主题讲的详细，或许作者有自己的打算，所以我也只是随便写一点东西</p>
<h3 id="网络通信"><a href="#网络通信" class="headerlink" title="网络通信"></a>网络通信</h3><p>我对网络通信也不太了解，而且作者讲的也不多，我的理解是，网络通信可以概括为远程服务器与客户端的通信，客户端向服务器发送请求，服务器根据请求做出相应的处理，然后把处理的结果发送给客户端，客户端和服务器都可以是多对多的模式，服务器与服务器连接，客户端与服务器连接，客户端通过服务器与客户端连接，形成一张网络</p>
<h3 id="并发与并行"><a href="#并发与并行" class="headerlink" title="并发与并行"></a>并发与并行</h3><p>书中将并发与并行分为了三个层次：线程级并发、指令级并行、单指令、多数据并行</p>
<p>线程级开发和指令级并行的概念我觉得差不多，只是针对的主体不同</p>
<p>对于单核处理器来说，并发都是伪并发，对于多核处理器来说，存在伪并发，也存在真并发，真并发模式下，一个核心只处理一个线程，伪并发模式下，一个核心可能会处理多个线程，只是核心会快速地在线程之间来回切换，以达到让你误以为每个线程都一直在执行一样，切换的过程中，线程有三种状态：运行、等待、就绪，这里也不做详细说明了，因为书上也没讲，我是在《程序员的自我修养》上看到的</p>
<p>指令级并发与线程级并发差不太多，CPU会把指令继续分解为更小的步骤，工作模式与线程级并发是几乎一样的</p>
<p>单指令，多数据并行我不太了解，书中也没有详细的原理解释，还是往后看吧，书上说第五章做了详细的说明</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/09/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4movs-lods-stos-rep/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/09/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4movs-lods-stos-rep/" class="post-title-link" itemprop="url">汇编指令movs, lods, stos, rep</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-12-09 14:37:00 / Modified: 15:40:07" itemprop="dateCreated datePublished" datetime="2021-12-09T14:37:00+08:00">2021-12-09</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>以前看ida的时候经常遇到这些指令，但是老是记不住，每次遇到了才去查，查了又忘</p>
<p>最近一段时间在系统地学习汇编，搞好学到这里，就写一篇blog巩固一下，以后也方便查</p>
<p>前三条指令本质上就是数据的转移指令，和mov是大同小异的，而最后一条rep是循环指令，可以联想英文单词repeat</p>
<h2 id="movs"><a href="#movs" class="headerlink" title="movs"></a>movs</h2><p>movs又包含三条指令，movsb、movsw、movsd</p>
<p>后缀b、w、d分别指byte， word，dword，即字节、字、双字，指明了操作的单位</p>
<p>首先我们来看一下mov指令的格式：</p>
<p>mov 目的操作数，源操作数（intel格式）</p>
<p>mov指令会给出目的操作数和源操作数，指令的大概意思就是把源操作数移动到目的操作数</p>
<p>但是movs不一样，movs不需要接目的操作数和源操作数，指令的格式是：</p>
<p><strong>movsb</strong></p>
<p><strong>movsw</strong></p>
<p><strong>movsd</strong></p>
<p>这样写的原因是movs的目的操作数和源操作数是隐式给出的，目的操作数存放在edi中，源操作数存放在esi中</p>
<p>所以说，<strong>movsb</strong>相当于<strong>mov [edi], byte ptr [esi]</strong></p>
<p>movsw，movsd以此类推</p>
<p>每次执行movs指令，edi与esi都会发生相应的变化，要么变大要么变小，变大还是变小取决于DF标志位的值，0则变大，1则变小，变大或者变小的数值取决于源操作数的大小</p>
<h2 id="lods"><a href="#lods" class="headerlink" title="lods"></a>lods</h2><p>movs是把一个内存空间的内容复制到另一片内存空间，而lods则是将内存空间的值复制到寄存器中</p>
<p><strong>lodsb</strong></p>
<p>这条指令表示将esi中的内容复制到eax中，复制的单位是字节</p>
<p>lodsw、lodsd以此类推</p>
<p>每次执行都会增加或减少esi的值，参照movs</p>
<h2 id="stos"><a href="#stos" class="headerlink" title="stos"></a>stos</h2><p>stos与lods指令的行为相反，stosb代表吧eax的一个字节存到edi所指向的内存空间中去</p>
<p>每次执行都会增加或减少edi的值，参照movs</p>
<p>于是我们发现：movsb 等价于lodsb stosb</p>
<h2 id="rep"><a href="#rep" class="headerlink" title="rep"></a>rep</h2><p>rep指令的格式是：</p>
<p>rep 指令a</p>
<p>rep会重复执行指令a，每次执行前是ecx的值减一，如果减去一以后ecx的值为0，则结束循环</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mov $54, %ecx</span><br><span class="line">rep movsb</span><br></pre></td></tr></table></figure>

<p>这条指令会重复执行54次</p>
<h2 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h2><p>综合上面四条指令，我们可以写一个汇编程序来实现字符串的复制</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">.extern printf</span><br><span class="line">.section .data</span><br><span class="line">mystr:</span><br><span class="line">    .ascii &quot;Hello World!\n&quot;</span><br><span class="line">end:</span><br><span class="line">    .byte 0</span><br><span class="line">.section .bss</span><br><span class="line">    .lcomm output1, 15</span><br><span class="line">    .lcomm output2, 15</span><br><span class="line">.section .text</span><br><span class="line">.global _start</span><br><span class="line">_start:</span><br><span class="line">    leal mystr, %esi</span><br><span class="line">    leal output1, %edi</span><br><span class="line">    cld #add esi and edi everytime</span><br><span class="line">    mov $13, %ecx</span><br><span class="line">    rep movsb</span><br><span class="line"></span><br><span class="line">    movl $end, %esi</span><br><span class="line">    lodsb</span><br><span class="line">    stosb #cut the string</span><br><span class="line"></span><br><span class="line">    leaq output1, %rdi</span><br><span class="line">    call printf</span><br><span class="line">    </span><br><span class="line">    movl $end, %esi</span><br><span class="line">    leal output2+14, %edi</span><br><span class="line">    std #sub esi and edi everytime</span><br><span class="line">    lodsb</span><br><span class="line">    stosb</span><br><span class="line">    leal mystr+13, %esi</span><br><span class="line">    mov $14, %ecx</span><br><span class="line">    rep movsb</span><br><span class="line"></span><br><span class="line">    cld #reset DF</span><br><span class="line"></span><br><span class="line">    movq $output2, %rdi</span><br><span class="line">    call printf</span><br><span class="line"></span><br><span class="line">    mov $60, %rax</span><br><span class="line">    syscall</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="image-20211209153940491.png" alt="image-20211209153940491"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/08/%E6%89%8B%E5%8A%A8%E9%93%BE%E6%8E%A5%E7%A8%8B%E5%BA%8F%E6%97%A0%E6%B3%95%E6%89%A7%E8%A1%8C%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/08/%E6%89%8B%E5%8A%A8%E9%93%BE%E6%8E%A5%E7%A8%8B%E5%BA%8F%E6%97%A0%E6%B3%95%E6%89%A7%E8%A1%8C%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">手动链接程序无法执行的解决方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-12-08 16:34:04 / Modified: 16:57:07" itemprop="dateCreated datePublished" datetime="2021-12-08T16:34:04+08:00">2021-12-08</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>故事的经过是这样的：</p>
<p>汇编：</p>
<p><img src="image-20211208163757180.png" alt="image-20211208163757180"></p>
<p>链接：</p>
<p><img src="image-20211208163949344.png" alt="image-20211208163949344"></p>
<p>运行：</p>
<p><img src="image-20211208164022630.png" alt="image-20211208164022630"></p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>？？？</p>
<p>待我ls一下：</p>
<p><img src="image-20211208164109529.png" alt="image-20211208164109529"></p>
<p>？？？？？？？？？？？？？？？</p>
<p><img src="image-20211208164157049.png" alt="image-20211208164157049"></p>
<p>？？？？？？？？？？？？？？？？？？？？？？？？？？？？逐渐诡异起来了</p>
<p>难道链接器出问题了？试试ldd</p>
<p><img src="image-20211208164354103.png" alt="image-20211208164354103"></p>
<p>不太对劲起来了，用readelf看一下程序需要什么ld</p>
<p><img src="image-20211208164458056.png" alt="image-20211208164458056"></p>
<p>我们看到：[Requesting program interpreter: /lib/ld64.so.1]，程序需要<strong>ld64.so.1</strong>这个interpreter，可是我链接的时候用的是<strong>ld-linux-x86-64.so.2</strong>啊</p>
<p>不对劲</p>
<p><img src="image-20211208164712987.png" alt="image-20211208164712987"></p>
<p>电脑里根本没有这个共享库，程序运行的时候要动态链接这个库，但是找不到，于是程序跑不起来</p>
<h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>既然找不到这个共享库，那我们就把程序的interpreter换了，这里用到的是patchelf，网上有安装教程，最好自己下载官方的安装包进行安装，apt install的版本太老了</p>
<p>把你想用的ld拖到同一目录下，这里我用的是<strong>ld-linux-x86-64.so.2</strong></p>
<p>然后执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> patchelf --set-interpreter ld-linux-x86-64.so.2 11</span></span><br></pre></td></tr></table></figure>

<p><img src="image-20211208165219469.png" alt="image-20211208165219469"></p>
<p>再次使用ldd和readelf查看程序</p>
<p><img src="image-20211208165336965.png" alt="image-20211208165336965"></p>
<p><img src="image-20211208165353446.png" alt="image-20211208165353446"></p>
<p>这次应该刑了吧</p>
<p><img src="image-20211208165433712.png" alt="image-20211208165433712"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/07/int-80h%E4%B8%8Esyscall/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/07/int-80h%E4%B8%8Esyscall/" class="post-title-link" itemprop="url">int 80h与syscall</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-12-07 12:11:51 / Modified: 18:51:46" itemprop="dateCreated datePublished" datetime="2021-12-07T12:11:51+08:00">2021-12-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>以前在《IDApro权威指南》上了解过linux的系统调用，知道了int 80h和syscall，当时也没有做深入了解，就以为这两条指令是等价的</p>
<p>直到最近在钻研汇编，写程序的时候发现原来一直理解错了</p>
<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p><img src="image-20211207113401717.png" alt="image-20211207113401717"></p>
<p>我的本意是在终端打印msg，不小心把代码写成了这样，结果db调试时出现了以下报错</p>
<p><img src="image-20211207113841956.png" alt="image-20211207113841956"></p>
<p>把代码改成这样后，程序成功运行</p>
<p><img src="image-20211207113941445.png" alt="image-20211207113941445"></p>
<p>于是我意识到了int 80和sycall的区别</p>
<h2 id="syscall"><a href="#syscall" class="headerlink" title="syscall"></a>syscall</h2><p>syscall时linux x86_64进入内核模式的默认方法，这条指令在i386上不可使用，syscall的系统调用号存放在rax中，参数依次存放在rdi，rsi，rdx，r10，r8和r9中，最多传递六个参数</p>
<h2 id="int-80h"><a href="#int-80h" class="headerlink" title="int 80h"></a>int 80h</h2><p>int 80h指令可以在i386上使用，程序执行int 80h时就会中断并陷入内核模式，int 80h的系统调用号存放在eax中，参数依次存放在ebx，ecx，edx，esi和edi中，最多传递五个参数</p>
<h2 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h2><p>通过以上的描述不难看出，syscall和int 80h最大的区别在于传参规则不同，所以如果我们把程序改成这样，还是可以正常运行的，但是不推荐怎么做，x86_64位下还是推荐使用默认的syscall进行系统调用</p>
<p><img src="image-20211207120009655.png" alt="image-20211207120009655"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/06/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4-loop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/06/%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4-loop/" class="post-title-link" itemprop="url">汇编指令-loop</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-12-06 21:44:26 / Modified: 21:53:26" itemprop="dateCreated datePublished" datetime="2021-12-06T21:44:26+08:00">2021-12-06</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>寄！又是被汇编和java折磨的一天，看的是王爽老师的《汇编语言》，但是没有16位的环境，今天主要学了[bx]和loop</p>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><p>那就用loop写一个累加程序吧</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">section .data:</span><br><span class="line">    num equ 10abH</span><br><span class="line">section .text:</span><br><span class="line">    global _start</span><br><span class="line">    </span><br><span class="line">_start:</span><br><span class="line">    mov eax, num</span><br><span class="line">    mov ecx, 4</span><br><span class="line">s:  add eax, num</span><br><span class="line">    loop s</span><br><span class="line">    </span><br><span class="line">    mov ebx, 0</span><br><span class="line">    mov eax, 1</span><br><span class="line">    int 80H</span><br><span class="line"># 这里要将代码编译连接成32位的程序，64位运行时会报错，（原因还不明）编译和链接指令在前面的blog中写过</span><br></pre></td></tr></table></figure>

<p>loop指令的格式是：loop 标号</p>
<p>每次执行到loop指令时，先给ecx减一，如果ecx不为0，则跳转到标号处，ecx为0则往下执行</p>
<p>使用gdb调试，循环结束后eax的值为5倍的<strong>0x10AB</strong></p>
<p><img src="image-20211206214513109.png" alt="image-20211206214513109"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/05/java%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%A4%9A%E6%80%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/05/java%E7%BB%A7%E6%89%BF%E4%B8%8E%E5%A4%9A%E6%80%81/" class="post-title-link" itemprop="url">java继承与多态</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-12-05 22:27:43" itemprop="dateCreated datePublished" datetime="2021-12-05T22:27:43+08:00">2021-12-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-12-06 11:14:25" itemprop="dateModified" datetime="2021-12-06T11:14:25+08:00">2021-12-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="java继承"><a href="#java继承" class="headerlink" title="java继承"></a>java继承</h2><p>今天一天啥也没干，睡觉睡到中午，然后出去拍了会学校得风景，下午到实验室就学了点java，然后就是例会了，寄</p>
<p>把今天学的东西记录一下吧，时间有点晚了，待会还得写高数作业，就简单概括一下，有时间了再详细写一下</p>
<p>继承是java的一个重要机制，java是一种面向对象的语言，不同的对象封装在不同的类中</p>
<p>类是java继承机制的基础，以类作为单位进行继承是编写java代码的常规操作，有时候，不同的类有着相同或相似的属性和方法，或者对于一个类我们可以继续往下细分，这时候我们就可以使用java的继承机制，这不仅减少了代码量（java的代码量本来就挺大），还增加了java代码的整体性，对于后期的代码维护有一定的好处</p>
<p>假设我们有一个Fish类，这个类有两个属性和两个方法：颜色、尺寸，吃、游泳</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Fish</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    String color;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//具体实现方法</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在，我们想创建另一类叫Whale，显然，鲸鱼也有颜色、尺寸，也有吃和游泳的行为，那我们是不是又要写一堆代码来实现呢，就不能像文本一样复制粘贴一个吗？</p>
<p>java的继承机制就是为了解决这类问题，下面的代码就实现了对Fish类的复制，上面Fish类中的所有属性和方法Whale类都有</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Whale</span> <span class="keyword">extends</span> <span class="title">Fish</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="java多态"><a href="#java多态" class="headerlink" title="java多态"></a>java多态</h2><p>在讲多态之前，先认识一下java的重写和重载</p>
<h3 id="重写"><a href="#重写" class="headerlink" title="重写"></a>重写</h3><p>假设Fish类中的一个方法swim</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;fish is swimming&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Whale类继承了Fish类，Whale也有swim方法，但是Whale类swim方法的具体实现和Fish类不同，这个时候我们就可以重写Whale类的swim方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Whale</span> <span class="keyword">extends</span> <span class="title">Fish</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;whale is swimming&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>现在，如果你new一个Whale类并直接调用swim方法，执行的将是子类重写的方法而不是父类的方法</p>
<p>如果想调用父类的方法，需要加上super关键字</p>
<h3 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h3><p>在C语言中，定义相同名称的函数是非法的，但是在java中，可以有相同名称的函数（方法）</p>
<p>这就是java的重载，在同一个类中，你可以定义多个同名方法，但是注意，同名不代表同样，不同的方法的参数不能一致，以下列举一些合法的重载</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a, String b)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(String a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">double</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">test</span><span class="params">(String a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">test</span><span class="params">(<span class="keyword">int</span> a, String b, <span class="keyword">double</span> c)</span></span>;</span><br></pre></td></tr></table></figure>

<p>重载相当于：对于不同的参数，采取不同的手段去处理，采用相同的名字也是减轻程序员负担的一种方法</p>
<p>重写是实现java多态的方法之一，通过重写，子类和父类、相同父类的子类的同一个方法可以有不同的实现过程，这就是java多态的含义</p>
<p>比如以下代码：</p>
<p>创建了一个父类Animal</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(String myname, <span class="keyword">int</span> mysize)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        name = myname;</span><br><span class="line">        size = mysize;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在创建两个子类：Mouse和Cat</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Mouse</span><span class="params">(String myname, <span class="keyword">int</span> mysize)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(myname, mysize);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;mouse is eating&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;mouse is running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Cat</span><span class="params">(String myname, <span class="keyword">int</span> mysize)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(myname, mysize);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;cat is eating&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;cat is running&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Mouse a = <span class="keyword">new</span> Mouse(<span class="string">&quot;Jery&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        Cat b = <span class="keyword">new</span> Cat(<span class="string">&quot;Tom&quot;</span>, <span class="number">1000</span>);</span><br><span class="line">        Animal c = <span class="keyword">new</span> Mouse(<span class="string">&quot;Bob&quot;</span>, <span class="number">800</span>);</span><br><span class="line">        a.eat();</span><br><span class="line">        b.eat();</span><br><span class="line">        c.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mouse is eating</span><br><span class="line">cat is eating</span><br><span class="line">mouse is eating</span><br></pre></td></tr></table></figure>

<p>注意的是c这个实例对象</p>
<p>这是父类引用指向子类对象，在运行中调用的还是子类的方法</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://example.com/2021/12/04/postassembly/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/12/04/postassembly/" class="post-title-link" itemprop="url">在ubuntu中使用汇编语言编写程序</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2021-12-04 15:32:55 / Modified: 15:58:08" itemprop="dateCreated datePublished" datetime="2021-12-04T15:32:55+08:00">2021-12-04</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="配置nasm环境"><a href="#配置nasm环境" class="headerlink" title="配置nasm环境"></a>配置nasm环境</h2><p>在<a target="_blank" rel="noopener" href="http://www.nasm.us/pub/nasm/releasebuilds%E4%B8%8B%E8%BD%BDnasm%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%8C%85">http://www.nasm.us/pub/nasm/releasebuilds下载nasm的压缩包</a></p>
<p>解压压缩包</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">tar zxvf filename</span></span><br></pre></td></tr></table></figure>

<p>编译安装nasm</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> 解压出来的文件夹</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ./configure</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> make</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo make install</span></span><br></pre></td></tr></table></figure>

<h2 id="编写汇编程序"><a href="#编写汇编程序" class="headerlink" title="编写汇编程序"></a>编写汇编程序</h2><p>（本文重在讲解编译运行过程，代码编写就不详细解释说明了）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">	[section .data]</span><br><span class="line">	msg db &quot;hello assembly!&quot;, 0Ah</span><br><span class="line">	len equ $ - msg</span><br><span class="line"></span><br><span class="line">	[section .text]</span><br><span class="line">	global _start</span><br><span class="line"></span><br><span class="line">_start:</span><br><span class="line">	mov edx, len</span><br><span class="line">	mov ecx, msg</span><br><span class="line">	mov ebx, 1</span><br><span class="line">	mov eax, 4</span><br><span class="line">	int 0x80</span><br><span class="line">	</span><br><span class="line">	mov ebx, 0</span><br><span class="line">	mov eax, 1</span><br><span class="line">	int 0x80</span><br><span class="line">	</span><br></pre></td></tr></table></figure>

<h2 id="编译运行程序"><a href="#编译运行程序" class="headerlink" title="编译运行程序"></a>编译运行程序</h2><p>编译</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> nasm -f elf64 -o hello.o hello.asm <span class="comment">#64位</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> nasm -f elf -o hello.o hello.asm   <span class="comment">#32位</span></span></span><br></pre></td></tr></table></figure>

<p>链接</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ld -s -o hello hello.o             <span class="comment">#64位</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ld -m elf_i386 -s -o hello hello.o <span class="comment">#32位</span></span></span><br></pre></td></tr></table></figure>

<p>运行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ./hello</span></span><br><span class="line">hello assembly!</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">18</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
